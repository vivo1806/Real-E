{"version":3,"file":"static/js/989.e8cf0e8b.chunk.js","mappings":"2JAEA,MAwHMA,EAAS,CACbC,UAAW,CACTC,gBAAiB,UACjBC,UAAW,QACXC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,QAAS,QAEXC,KAAM,CACJN,gBAAiB,UACjBK,QAAS,OACTE,aAAc,OACdC,UAAW,gCACXC,MAAO,OACPC,SAAU,QACVC,UAAW,UAEbC,QAAS,CACPC,aAAc,OACdC,SAAU,OACVC,MAAO,OACPC,WAAY,OAEdC,MAAO,CACLZ,QAAS,OACTI,MAAO,OACPF,aAAc,MACdW,OAAQ,iBACRJ,SAAU,OACVD,aAAc,OACdM,QAAS,QAEXC,OAAQ,CACNX,MAAO,OACPJ,QAAS,OACTS,SAAU,OACVd,gBAAiB,UACjBe,MAAO,QACPG,OAAQ,OACRX,aAAc,MACdc,OAAQ,UACRL,WAAY,OACZM,WAAY,yBAEdC,OAAQ,CACNC,UAAW,OACXT,MAAO,OACPC,WAAY,OAEdS,QAAS,CACPC,OAAQ,SACRR,OAAQ,OACRS,OAAQ,MACR3B,gBAAiB,QAEnB4B,WAAY,CACVd,SAAU,OACVE,WAAY,MACZD,MAAO,OACPF,aAAc,QAEhBgB,WAAY,CACVC,cAAe,OACfzB,QAAS,EACTmB,UAAW,OACXb,UAAW,QAEboB,WAAY,CACV1B,QAAS,WACTL,gBAAiB,UACjBO,aAAc,MACdM,aAAc,MACdC,SAAU,QAEZkB,UAAW,CACTjB,MAAO,OACPkB,UAAW,WAIf,EAzMkBC,KAChB,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCd,EAAQe,IAAaD,EAAAA,EAAAA,UAAS,KAC9BE,EAASC,IAAcH,EAAAA,EAAAA,WAAS,IAChCI,EAASC,IAAcL,EAAAA,EAAAA,UAAS,IAEjCM,EAAYC,aAAaC,QAAQ,SAEjCC,EAAeC,UACnB,GAAKJ,EAEL,IACE,MAAMK,QAAiBC,MACrB,2DACA,CACEC,QAAS,CACPC,cAAc,UAADC,OAAYT,MAK/B,GAAIK,EAASK,GAAI,CACf,MAAMC,QAAaN,EAASO,OAC5Bb,EAAWY,EACb,MACEhB,EAAU,4CAEd,CAAE,MAAOkB,GACPC,QAAQD,MAAM,0BAA2BA,GACzClB,EAAU,4DACZ,IAGFoB,EAAAA,EAAAA,WAAU,KACRZ,KACC,IA8CH,OACEa,EAAAA,EAAAA,KAAA,OAAKC,MAAO9D,EAAOC,UAAU8D,UAC3BC,EAAAA,EAAAA,MAAA,OAAKF,MAAO9D,EAAOQ,KAAKuD,SAAA,EACtBF,EAAAA,EAAAA,KAAA,MAAIC,MAAO9D,EAAOc,QAAQiD,SAAC,kBAC3BF,EAAAA,EAAAA,KAAA,SACEI,KAAK,OACLC,YAAY,0BACZC,MAAO9B,EACP+B,SAAWC,GAAM/B,EAAY+B,EAAEC,OAAOH,OACtCL,MAAO9D,EAAOmB,SAEhB0C,EAAAA,EAAAA,KAAA,UACEU,QAxDkBtB,UACxB,MAAMuB,EAAkBnC,EAASoC,OAEjC,GAAKD,EAKL,GAAK3B,EAKL,IACEH,GAAW,GACX,MAAMQ,QAAiBC,MACrB,kDACA,CACEuB,OAAQ,OACRtB,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAADC,OAAYT,IAE3B8B,KAAMC,KAAKC,UAAU,CAAExC,SAAUmC,MAI/BhB,QAAaN,EAASO,OAExBP,EAASK,IACXf,EAAU,wBAADc,OAAoBkB,IAC7BlC,EAAY,IACZU,KAEAR,EAAU,UAADc,OAAME,EAAKE,OAExB,CAAE,MAAOA,GACPC,QAAQD,MAAM,uBAAwBA,GACtClB,EAAU,iDACZ,CAAC,QACCE,GAAW,EACb,MAhCEF,EAAU,4DALVA,EAAU,0CAqDNsB,MAAO9D,EAAOsB,OACdwD,SAAUrC,EAAQsB,SAEjBtB,EAAU,aAAe,wBAE3BhB,IAAUoC,EAAAA,EAAAA,KAAA,KAAGC,MAAO9D,EAAOyB,OAAOsC,SAAEtC,KACrCoC,EAAAA,EAAAA,KAAA,MAAIC,MAAO9D,EAAO2B,WAClBkC,EAAAA,EAAAA,KAAA,MAAIC,MAAO9D,EAAO8B,WAAWiC,SAAC,kBAC9BF,EAAAA,EAAAA,KAAA,MAAIC,MAAO9D,EAAO+B,WAAWgC,SAC1BpB,EAAQoC,OAAS,GAChBlB,EAAAA,EAAAA,KAAA,MAAIC,MAAO9D,EAAO+B,WAAWgC,SAC1BpB,EAAQqC,IAAKC,IACZjB,EAAAA,EAAAA,MAAA,MAAqBF,MAAO9D,EAAOiC,WAAW8B,SAAA,CAAC,gBACzCkB,EAAOC,OADJD,EAAOE,SAMpBtB,EAAAA,EAAAA,KAAA,KAAGC,MAAO9D,EAAOkC,UAAU6B,SAAC,gD","sources":["AddFriend.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst AddFriend = () => {\n  const [username, setUsername] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [friends, setFriends] = useState([]);\n\n  const userToken = localStorage.getItem(\"token\");\n\n  const fetchFriends = async () => {\n    if (!userToken) return;\n\n    try {\n      const response = await fetch(\n        \"https://minor-project-kkof.onrender.com/users/me/friends\",\n        {\n          headers: {\n            Authorization: `Bearer ${userToken}`,\n          },\n        },\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setFriends(data);\n      } else {\n        setStatus(\"‚ö†Ô∏è Failed to fetch friend list.\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching friends:\", error);\n      setStatus(\"‚ö†Ô∏è Something went wrong while fetching friends.\");\n    }\n  };\n\n  useEffect(() => {\n    fetchFriends();\n  }, []);\n\n  const handleSendRequest = async () => {\n    const trimmedUsername = username.trim();\n\n    if (!trimmedUsername) {\n      setStatus(\"‚ö†Ô∏è Please enter a username.\");\n      return;\n    }\n\n    if (!userToken) {\n      setStatus(\"‚ö†Ô∏è You must be logged in to add a friend.\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await fetch(\n        \"http://localhost:5022/users/addFriendByUsername\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${userToken}`,\n          },\n          body: JSON.stringify({ username: trimmedUsername }),\n        },\n      );\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setStatus(`‚úÖ Friend added: ${trimmedUsername}`);\n        setUsername(\"\");\n        fetchFriends(); // Refresh friend list\n      } else {\n        setStatus(`‚ùå ${data.error}`);\n      }\n    } catch (error) {\n      console.error(\"Error adding friend:\", error);\n      setStatus(\"‚ùå Something went wrong. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.card}>\n        <h2 style={styles.heading}>Add a Friend</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Enter friend's username\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          style={styles.input}\n        />\n        <button\n          onClick={handleSendRequest}\n          style={styles.button}\n          disabled={loading}\n        >\n          {loading ? \"Sending...\" : \"Send Friend Request\"}\n        </button>\n        {status && <p style={styles.status}>{status}</p>}\n        <hr style={styles.divider} />\n        <h3 style={styles.subheading}>Your Friends</h3>\n        <ul style={styles.friendList}>\n          {friends.length > 0 ? (\n            <ul style={styles.friendList}>\n              {friends.map((friend) => (\n                <li key={friend._id} style={styles.friendItem}>\n                  üßë {friend.name}\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p style={styles.noFriends}>You have no friends yet üòî</p>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    backgroundColor: \"#f4f7fc\",\n    minHeight: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: \"20px\",\n  },\n  card: {\n    backgroundColor: \"#ffffff\",\n    padding: \"30px\",\n    borderRadius: \"12px\",\n    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.1)\",\n    width: \"100%\",\n    maxWidth: \"450px\",\n    textAlign: \"center\",\n  },\n  heading: {\n    marginBottom: \"20px\",\n    fontSize: \"24px\",\n    color: \"#333\",\n    fontWeight: \"600\",\n  },\n  input: {\n    padding: \"12px\",\n    width: \"100%\",\n    borderRadius: \"6px\",\n    border: \"1px solid #ccc\",\n    fontSize: \"16px\",\n    marginBottom: \"15px\",\n    outline: \"none\",\n  },\n  button: {\n    width: \"100%\",\n    padding: \"12px\",\n    fontSize: \"16px\",\n    backgroundColor: \"#236ae5\",\n    color: \"white\",\n    border: \"none\",\n    borderRadius: \"6px\",\n    cursor: \"pointer\",\n    fontWeight: \"bold\",\n    transition: \"background-color 0.3s\",\n  },\n  status: {\n    marginTop: \"15px\",\n    color: \"#555\",\n    fontWeight: \"500\",\n  },\n  divider: {\n    margin: \"20px 0\",\n    border: \"none\",\n    height: \"1px\",\n    backgroundColor: \"#eee\",\n  },\n  subheading: {\n    fontSize: \"20px\",\n    fontWeight: \"600\",\n    color: \"#444\",\n    marginBottom: \"10px\",\n  },\n  friendList: {\n    listStyleType: \"none\",\n    padding: 0,\n    marginTop: \"10px\",\n    textAlign: \"left\",\n  },\n  friendItem: {\n    padding: \"8px 12px\",\n    backgroundColor: \"#f0f4ff\",\n    borderRadius: \"6px\",\n    marginBottom: \"8px\",\n    fontSize: \"15px\",\n  },\n  noFriends: {\n    color: \"#888\",\n    fontStyle: \"italic\",\n  },\n};\n\nexport default AddFriend;\n"],"names":["styles","container","backgroundColor","minHeight","display","alignItems","justifyContent","padding","card","borderRadius","boxShadow","width","maxWidth","textAlign","heading","marginBottom","fontSize","color","fontWeight","input","border","outline","button","cursor","transition","status","marginTop","divider","margin","height","subheading","friendList","listStyleType","friendItem","noFriends","fontStyle","AddFriend","username","setUsername","useState","setStatus","loading","setLoading","friends","setFriends","userToken","localStorage","getItem","fetchFriends","async","response","fetch","headers","Authorization","concat","ok","data","json","error","console","useEffect","_jsx","style","children","_jsxs","type","placeholder","value","onChange","e","target","onClick","trimmedUsername","trim","method","body","JSON","stringify","disabled","length","map","friend","name","_id"],"sourceRoot":""}