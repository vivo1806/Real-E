"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[989],{989:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(43),o=n(579);const i={container:{backgroundColor:"#f4f7fc",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},card:{backgroundColor:"#ffffff",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:"450px",textAlign:"center"},heading:{marginBottom:"20px",fontSize:"24px",color:"#333",fontWeight:"600"},input:{padding:"12px",width:"100%",borderRadius:"6px",border:"1px solid #ccc",fontSize:"16px",marginBottom:"15px",outline:"none"},button:{width:"100%",padding:"12px",fontSize:"16px",backgroundColor:"#236ae5",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",transition:"background-color 0.3s"},status:{marginTop:"15px",color:"#555",fontWeight:"500"},divider:{margin:"20px 0",border:"none",height:"1px",backgroundColor:"#eee"},subheading:{fontSize:"20px",fontWeight:"600",color:"#444",marginBottom:"10px"},friendList:{listStyleType:"none",padding:0,marginTop:"10px",textAlign:"left"},friendItem:{padding:"8px 12px",backgroundColor:"#f0f4ff",borderRadius:"6px",marginBottom:"8px",fontSize:"15px"},noFriends:{color:"#888",fontStyle:"italic"}},a=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[d,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)([]),f=localStorage.getItem("token"),h=async()=>{if(f)try{const e=await fetch("https://minor-project-kkof.onrender.com/users/me/friends",{headers:{Authorization:"Bearer ".concat(f)}});if(e.ok){const t=await e.json();c(t)}else a("\u26a0\ufe0f Failed to fetch friend list.")}catch(e){console.error("Error fetching friends:",e),a("\u26a0\ufe0f Something went wrong while fetching friends.")}};(0,r.useEffect)(()=>{h()},[]);return(0,o.jsx)("div",{style:i.container,children:(0,o.jsxs)("div",{style:i.card,children:[(0,o.jsx)("h2",{style:i.heading,children:"Add a Friend"}),(0,o.jsx)("input",{type:"text",placeholder:"Enter friend's username",value:e,onChange:e=>t(e.target.value),style:i.input}),(0,o.jsx)("button",{onClick:async()=>{const n=e.trim();if(n)if(f)try{s(!0);const e=await fetch("http://localhost:5022/users/addFriendByUsername",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({username:n})}),r=await e.json();e.ok?(a("\u2705 Friend added: ".concat(n)),t(""),h()):a("\u274c ".concat(r.error))}catch(r){console.error("Error adding friend:",r),a("\u274c Something went wrong. Please try again.")}finally{s(!1)}else a("\u26a0\ufe0f You must be logged in to add a friend.");else a("\u26a0\ufe0f Please enter a username.")},style:i.button,disabled:d,children:d?"Sending...":"Send Friend Request"}),n&&(0,o.jsx)("p",{style:i.status,children:n}),(0,o.jsx)("hr",{style:i.divider}),(0,o.jsx)("h3",{style:i.subheading,children:"Your Friends"}),(0,o.jsx)("ul",{style:i.friendList,children:l.length>0?(0,o.jsx)("ul",{style:i.friendList,children:l.map(e=>(0,o.jsxs)("li",{style:i.friendItem,children:["\ud83e\uddd1 ",e.name]},e._id))}):(0,o.jsx)("p",{style:i.noFriends,children:"You have no friends yet \ud83d\ude14"})})]})})}}}]);
//# sourceMappingURL=989.e8cf0e8b.chunk.js.map