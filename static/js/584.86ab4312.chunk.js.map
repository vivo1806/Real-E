{"version":3,"file":"static/js/584.86ab4312.chunk.js","mappings":"6KAGA,MA2MA,EA3MiBA,IAAmB,IAAlB,SAAEC,GAAUD,EAC5B,MAAM,IAAEE,EAAG,MAAEC,EAAK,YAAEC,EAAW,MAAEC,EAAK,MAAEC,EAAK,SAAEC,EAAW,IAAON,GAC1DO,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,KACtCC,EAAaC,IAAkBF,EAAAA,EAAAA,UAASH,IACxCM,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAChCK,EAAiBC,IAAsBN,EAAAA,EAAAA,WAAS,GAGjDO,EAAc,SAAAC,OAAOb,EAAMc,mBAyBjCC,EAAAA,EAAAA,WAAU,KAtBYC,WACpB,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BC,EAAWV,EAAe,sDAAAG,OAC0BhB,EAAG,2EAAAgB,OACHhB,GAEpDwB,QAAiBC,EAAAA,EAAMC,IAAIH,EAAU,CACzCI,QAAS,CACPC,cAAc,UAADZ,OAAYI,MAIvBS,EAAehB,EACjBW,EAASM,KACTN,EAASM,KAAKzB,SAClBK,EAAemB,EACjB,CAAE,MAAOE,GACPC,QAAQD,MAAM,2BAA4BA,EAC5C,GAIAE,IACC,CAACjC,EAAKa,IAiCT,OACEqB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,sBAAqBC,SAAEnC,KACrCoC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,4BAA2BC,SAAElC,KAC1CgC,EAAAA,EAAAA,MAAA,KAAGC,UAAU,sBAAqBC,SAAA,CAAC,UAAQrB,MAC3CmB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,sBAAqBC,SAAA,CAAC,UACzBhC,EAAMkC,KAAK,MACnBD,EAAAA,EAAAA,KAAA,KAAGE,KAAI,UAAAvB,OAAYZ,EAAMoC,OAAQJ,SAAEhC,EAAMoC,QAAU,QAIrDN,EAAAA,EAAAA,MAAA,QAAMO,SA3CgBtB,UAE1B,GADAuB,EAAEC,iBACGrC,EAAWsC,OAAhB,CAEAhC,GAAW,GACX,IACE,MAAMQ,EAAQC,aAAaC,QAAQ,SAC7BE,QAAiBC,EAAAA,EAAMoB,KAAK,sDAAD7B,OACuBhB,EAAG,YACzD,CAAE8C,KAAMxC,GACR,CACEqB,QAAS,CACPC,cAAc,UAADZ,OAAYI,MAKzB2B,EAAevB,EAASM,KAAKN,EAASM,KAAKkB,OAAS,GAE1DtC,EAAgBuC,GAAiB,EAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAC1BH,GAAY,IAAED,KAAMxC,OACtB2C,IAEL1C,EAAc,GAChB,CAAE,MAAOwB,GACPC,QAAQD,MAAM,yBAA0BA,EAC1C,CAAC,QACCnB,GAAW,EACb,CA1B8B,GAyCWuB,UAAU,eAAcC,SAAA,EAC3DC,EAAAA,EAAAA,KAAA,SACEc,KAAK,OACLC,YAAY,mBACZC,MAAO/C,EACPgD,SAAWZ,GAAMnC,EAAcmC,EAAEa,OAAOF,OACxClB,UAAU,gBACVqB,SAAU7C,KAEZ0B,EAAAA,EAAAA,KAAA,UAAQc,KAAK,SAAShB,UAAU,iBAAiBqB,SAAU7C,EAAQyB,SAChEzB,EAAU,aAAe,aAK9B0B,EAAAA,EAAAA,KAAA,OAAKoB,MAAO,CAAEC,UAAW,QAAStB,UAChCF,EAAAA,EAAAA,MAAA,SAAOuB,MAAO,CAAEE,WAAY,OAAQC,YAAa,OAAQxB,SAAA,EACvDC,EAAAA,EAAAA,KAAA,SACEc,KAAK,WACLU,QAAShD,EACTyC,SAAUA,IAAMxC,EAAoBgD,IAAUA,KAE/C,qCAKL5B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,cACoB,IAAvB3B,EAAYuC,QACXX,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8CAEH3B,EAAYsD,IAAI,CAACC,EAASC,KAAK,IAAAC,EAAA,OAC7BhC,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,eAAcC,SAAA,EACvCF,EAAAA,EAAAA,MAAA,UAAAE,SAAA,EAAqB,QAAZ8B,EAAAF,EAAQG,YAAI,IAAAD,OAAA,EAAZA,EAAc5B,OAAQ,eAAe,OAAW,IACxD0B,EAAQlB,OAFDmB,YASlB5B,EAAAA,EAAAA,KAAA,SAAAD,SAAA,y/DCnHN,EARgBgC,KAEZ/B,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAAA,OAAKgC,IAAI,uBAAuBC,IAAI,GAAGb,MAAO,CAAEc,MAAO,aCmF7D,EAnFmBC,KACjB,MAAO7D,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAChCuB,EAAO0C,IAAYjE,EAAAA,EAAAA,UAAS,KAC5BkE,EAAYC,IAAiBnE,EAAAA,EAAAA,UAAS,IAsB7C,OApBAU,EAAAA,EAAAA,WAAU,KACeC,WACrB,IACEP,GAAW,GACX,MAAMY,QAAiBC,EAAAA,EAAMC,IAAI,sDAGjCM,QAAQ4C,IAAIpD,GACZmD,EAAcnD,EAASM,KACzB,CAAE,MAAO+C,GACP7C,QAAQD,MAAM,oCAAqC8C,GACnDJ,EAAS,mCACX,CAAC,QACC7D,GAAW,EACb,GAGFkE,IACC,KAGD5C,EAAAA,EAAAA,MAAA6C,EAAAA,SAAA,CAAA3C,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,UAASC,SAAC,eAEvBL,IACCM,EAAAA,EAAAA,KAAA,OACEF,UAAU,gBACVsB,MAAO,CAAEuB,MAAO,MAAOC,UAAW,SAAUvB,UAAW,QAAStB,SAE/DL,KAILM,EAAAA,EAAAA,KAAA,OAAKF,UAAU,uBAAsBC,SAClCzB,GACC0B,EAAAA,EAAAA,KAAA,OAAKF,UAAU,SAAQC,UACrBC,EAAAA,EAAAA,KAAC+B,EAAO,MAGVM,EAAWX,IAAKhE,IACdsC,EAAAA,EAAAA,KAAC6C,EAAQ,CAAoBnF,SAAUA,GAAxBA,EAASC,YAMhCqC,EAAAA,EAAAA,KAAA,SAAO8C,KAAG,EAAA/C,SAAA,mlBC9ChB,EARuBgD,KAEnB/C,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAACmC,EAAU,K","sources":["search-components/Property.jsx","search-components/Loading.jsx","search-components/RealEstate.jsx","search-components/SearchProperty.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst Property = ({ property }) => {\n  const { _id, title, description, price, owner, comments = [] } = property;\n  const [newComment, setNewComment] = useState(\"\");\n  const [allComments, setAllComments] = useState(comments);\n  const [loading, setLoading] = useState(false);\n  const [showFriendsOnly, setShowFriendsOnly] = useState(false);\n\n  // Format price with currency symbol\n  const formattedPrice = `â‚¹${price.toLocaleString()}`;\n\n  // Fetch comments (all or only friends')\n  const fetchComments = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const endpoint = showFriendsOnly\n        ? `https://minor-project-kkof.onrender.com/properties/${_id}/comments/friends`\n        : `https://minor-project-kkof.onrender.com/properties/${_id}`;\n\n      const response = await axios.get(endpoint, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      const commentsData = showFriendsOnly\n        ? response.data\n        : response.data.comments;\n      setAllComments(commentsData);\n    } catch (error) {\n      console.error(\"Error fetching comments:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchComments();\n  }, [_id, showFriendsOnly]);\n\n  const handleCommentSubmit = async (e) => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n\n    setLoading(true);\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.post(\n        `https://minor-project-kkof.onrender.com/properties/${_id}/comment`,\n        { text: newComment },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        },\n      );\n\n      const addedComment = response.data[response.data.length - 1]; // Get the newly added comment\n\n      setAllComments((prevComments) => [\n        { ...addedComment, text: newComment },\n        ...prevComments,\n      ]);\n      setNewComment(\"\");\n    } catch (error) {\n      console.error(\"Error posting comment:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"property-card\">\n      <div className=\"property-card-content\">\n        <h2 className=\"property-card-title\">{title}</h2>\n        <p className=\"property-card-description\">{description}</p>\n        <p className=\"property-card-price\">Price: {formattedPrice}</p>\n        <p className=\"property-card-owner\">\n          Owner: {owner.name} (\n          <a href={`mailto:${owner.email}`}>{owner.email}</a>)\n        </p>\n\n        {/* Comment Form */}\n        <form onSubmit={handleCommentSubmit} className=\"comment-form\">\n          <input\n            type=\"text\"\n            placeholder=\"Add a comment...\"\n            value={newComment}\n            onChange={(e) => setNewComment(e.target.value)}\n            className=\"comment-input\"\n            disabled={loading}\n          />\n          <button type=\"submit\" className=\"comment-button\" disabled={loading}>\n            {loading ? \"Posting...\" : \"Post\"}\n          </button>\n        </form>\n\n        {/* Toggle: Show only friends' comments */}\n        <div style={{ marginTop: \"16px\" }}>\n          <label style={{ fontWeight: \"bold\", marginRight: \"8px\" }}>\n            <input\n              type=\"checkbox\"\n              checked={showFriendsOnly}\n              onChange={() => setShowFriendsOnly((prev) => !prev)}\n            />\n            {\" Show only friends' comments\"}\n          </label>\n        </div>\n\n        {/* Comments */}\n        <div className=\"comments-section\">\n          <h4>Comments:</h4>\n          {allComments.length === 0 ? (\n            <p>No comments yet. Be the first to comment!</p>\n          ) : (\n            allComments.map((comment, index) => (\n              <div key={index} className=\"comment-item\">\n                <strong>{comment.user?.name || \"Unknown User\"}:</strong>{\" \"}\n                {comment.text}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      <style>{`\n        .property-card {\n          background-color: #fff;\n          border: 1px solid #ddd;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          margin: 16px;\n          padding: 16px;\n          max-width: 400px;\n        }\n        .property-card-title {\n          font-size: 1.5em;\n          margin-bottom: 8px;\n          color: #333;\n        }\n        .property-card-description {\n          color: #555;\n          margin-bottom: 12px;\n        }\n        .property-card-price {\n          font-weight: bold;\n          color: #2e7d32;\n          margin-bottom: 8px;\n        }\n        .property-card-owner {\n          font-size: 0.9em;\n          color: #666;\n        }\n        .property-card-owner a {\n          color: #1a73e8;\n          text-decoration: none;\n        }\n        .property-card-owner a:hover {\n          text-decoration: underline;\n        }\n        .comment-form {\n          margin-top: 12px;\n          display: flex;\n          gap: 8px;\n        }\n        .comment-input {\n          flex: 1;\n          padding: 8px;\n          border-radius: 4px;\n          border: 1px solid #ccc;\n        }\n        .comment-button {\n          padding: 8px 16px;\n          background-color: #1a73e8;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n        .comment-button:hover {\n          background-color: #155ab6;\n        }\n        .comments-section {\n          margin-top: 16px;\n          max-height: 200px;\n          overflow-y: auto;\n          padding-right: 8px;\n        }\n        .comments-section::-webkit-scrollbar {\n          width: 6px;\n        }\n        .comments-section::-webkit-scrollbar-thumb {\n          background-color: rgba(0, 0, 0, 0.2);\n          border-radius: 4px;\n        }\n        .comment-item {\n          background: #f9f9f9;\n          padding: 8px;\n          margin-bottom: 6px;\n          border-radius: 4px;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default Property;\n","import React from \"react\";\n\nconst Loading = () => {\n  return (\n    <div>\n      <img src=\"/loading-spinner.gif\" alt=\"\" style={{ width: \"100px\" }} />\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Property from \"./Property\";\nimport Loading from \"./Loading\";\n\nconst RealEstate = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [properties, setProperties] = useState([]);\n\n  useEffect(() => {\n    const fetchDummyData = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(\n          `https://minor-project-kkof.onrender.com/properties`,\n        );\n        console.log(response);\n        setProperties(response.data); // âœ… important fix here!\n      } catch (err) {\n        console.error(\"Failed to fetch dummy properties:\", err);\n        setError(\"Unable to load dummy properties.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDummyData();\n  }, []);\n\n  return (\n    <>\n      <div className=\"real-estate-container\">\n        <h1 className=\"heading\">Properties</h1>\n\n        {error && (\n          <div\n            className=\"error-message\"\n            style={{ color: \"red\", textAlign: \"center\", marginTop: \"10px\" }}\n          >\n            {error}\n          </div>\n        )}\n\n        <div className=\"properties-container\">\n          {loading ? (\n            <div className=\"loader\">\n              <Loading />\n            </div>\n          ) : (\n            properties.map((property) => (\n              <Property key={property._id} property={property} />\n            ))\n          )}\n        </div>\n      </div>\n\n      <style jsx>{`\n        .real-estate-container {\n          padding: 20px;\n          background: #f9f9f9;\n          min-height: 100vh;\n        }\n\n        .heading {\n          text-align: center;\n          margin-bottom: 20px;\n          font-size: 32px;\n          font-family: \"Poppins\", sans-serif;\n          color: #333;\n        }\n\n        .properties-container {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 20px;\n          justify-content: center;\n        }\n\n        .loader {\n          text-align: center;\n          margin-top: 50px;\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default RealEstate;\n","import React from 'react'\nimport RealEstate from './RealEstate'\nimport \"./property.css\"\nconst SearchProperty = () => {\n  return (\n    <div>\n      <RealEstate/>\n    </div>\n  )\n}\n\nexport default SearchProperty\n"],"names":["_ref","property","_id","title","description","price","owner","comments","newComment","setNewComment","useState","allComments","setAllComments","loading","setLoading","showFriendsOnly","setShowFriendsOnly","formattedPrice","concat","toLocaleString","useEffect","async","token","localStorage","getItem","endpoint","response","axios","get","headers","Authorization","commentsData","data","error","console","fetchComments","_jsxs","className","children","_jsx","name","href","email","onSubmit","e","preventDefault","trim","post","text","addedComment","length","prevComments","_objectSpread","type","placeholder","value","onChange","target","disabled","style","marginTop","fontWeight","marginRight","checked","prev","map","comment","index","_comment$user","user","Loading","src","alt","width","RealEstate","setError","properties","setProperties","log","err","fetchDummyData","_Fragment","color","textAlign","Property","jsx","SearchProperty"],"sourceRoot":""}